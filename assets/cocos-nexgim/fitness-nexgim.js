!function i(r,o,s){function c(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(a)return a(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=o[t]={exports:{}},r[t][0].call(n.exports,function(e){return c(r[t][1][e]||e)},n,n.exports,i,r,o,s)}return o[t].exports}for(var a="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,n){"use strict";var i,r,d=this&&this.__awaiter||function(e,s,c,a){return new(c=c||Promise)(function(n,t){function i(e){try{o(a.next(e))}catch(e){t(e)}}function r(e){try{o(a.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof c?t:new c(function(e){e(t)})).then(i,r)}o((a=a.apply(e,s||[])).next())})},v=this&&this.__generator||function(n,i){var r,o,s,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!(s=0<(s=c.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){c=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){c.label=t[1];break}if(6===t[0]&&c.label<s[1]){c.label=s[1],s=t;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(t);break}s[2]&&c.ops.pop(),c.trys.pop();continue}t=i.call(n,c)}catch(e){t=[6,e],o=0}finally{r=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}},h=this&&this.__spreadArray||function(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e};!function(e){function o(){return"function"==typeof loadRuntime}function i(i){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return new Promise(function(n,t){var e;if(!o())return t("not support!!");(e=loadRuntime()).callCustomCommand.apply(e,h([{success:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(e)},fail:function(e){return t(e)},complete:function(){}},"nexgim."+i],r))})}var r,t;function n(){return cc.sys.platform===cc.sys.ANDROID}function s(){return cc.sys.platform===cc.sys.IPAD||cc.sys.platform===cc.sys.IPHONE}(l=r=e.JSB||(e.JSB={})).fullClassName=function(e){if(n())return("com.cocos.service."+e).replace(/\./g,"/");if(s()){e=e.split(".");return e[e.length-1]}return"only support Android or iOS platform!"},l.callNativeMethod=function(e,t){for(var n,i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];return(n=jsb.reflection).callStaticMethod.apply(n,h([e,t],i))},l.isAndroid=n,l.isIOS=s,(l=t=e.Listener||(e.Listener={})).deviceListener={listeners:[],setListener:function(e){null===e?this.listeners=[]:this.listeners.push(e)},onConnectionChanged:function(n,i,r){this.listeners.forEach(function(e){var t;null!==(t=null==e?void 0:e.onConnectionChanged)&&void 0!==t&&t.call(e,new c(n),i,r)})},onInstantDataReceived:function(n,i,r,o,s){this.listeners.forEach(function(e){var t;null!==(t=null==e?void 0:e.onInstantDataReceived)&&void 0!==t&&t.call(e,new c(n),i,r,o,s)})}},l.discoveryListener={listener:null,listeners:[],setListener:function(e){null===e?this.listeners=[]:this.listeners.push(e)},onDeviceFounding:function(n){this.listeners.forEach(function(e){var t;null!==(t=null==e?void 0:e.onDeviceFounding)&&void 0!==t&&t.call(e,new c(n))})},onDevicesFound:function(e){var n=JSON.parse(e).map(function(e){return new c(e)});this.listeners.forEach(function(e){var t;null!==(t=null==e?void 0:e.onDevicesFound)&&void 0!==t&&t.call(e,n)})}};var c=(a.prototype.getName=function(){return d(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return o()?[4,i("getName",this.deviceId)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,r.callNativeMethod(this.className,"getName","(Ljava/lang/String;)Ljava/lang/String;",this.deviceId)]}})})},a.prototype.getMac=function(){return d(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return o()?[4,i("getMac",this.deviceId)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,r.callNativeMethod(this.className,"getMac","(Ljava/lang/String;)Ljava/lang/String;",this.deviceId)]}})})},a);function a(e){this.deviceId=e,this.className=r.fullClassName("ServiceFitnessNexGim")}e.NexGimDevice=c;var l=(u.prototype.getMotorSN=function(){return this.motorSN},u.prototype.getMotorVersion=function(){return this.motorVersion},u.prototype.getDashboardSN=function(){return this.dashboardSN},u.prototype.getDashboardVersion=function(){return this.dashboardVersion},u);function u(e,t,n,i){this.motorSN=e,this.motorVersion=t,this.dashboardSN=n,this.dashboardVersion=i}e.NexGimDeviceInfo=l;f.prototype.startDiscovery=function(e){t.discoveryListener.setListener(e),o()?i("startDiscovery"):r.callNativeMethod(this.className,"startDiscovery","()V")},f.prototype.stopDiscovery=function(){o()?i("stopDiscovery"):r.callNativeMethod(this.className,"stopDiscovery","()V")},f.prototype.setTorque=function(e,t){o()?i("setTorque",e.deviceId,t):r.callNativeMethod(this.className,"setTorque","(Ljava/lang/String;F)V",e.deviceId,t)},f.prototype.getDeviceInfo=function(n){return d(this,void 0,void 0,function(){var t;return v(this,function(e){switch(e.label){case 0:return t="{}",o()?[4,i("getDeviceInfo",n.deviceId)]:[3,2];case 1:return t=e.sent(),[3,3];case 2:t=r.callNativeMethod(this.className,"getDeviceInfo","(Ljava/lang/String;)Ljava/lang/String;",n.deviceId),e.label=3;case 3:return"{}"===t?[2,null]:[2,JSON.parse(t)]}})})},f.prototype.register=function(e){t.deviceListener.setListener(e),o()?i("register"):r.callNativeMethod(this.className,"register","()V")},f.prototype.unregister=function(){t.deviceListener.setListener(null),o()?i("unregister"):r.callNativeMethod(this.className,"unregister","()V")},f.prototype.connect=function(e){o()?i("connect",e.deviceId):r.callNativeMethod(this.className,"connect","(Ljava/lang/String;)V",e.deviceId)},f.prototype.disconnect=function(e){o()?i("disconnect",e.deviceId):r.callNativeMethod(this.className,"disconnect","(Ljava/lang/String;)V",e.deviceId)},f.prototype.isConnected=function(t){return d(this,void 0,void 0,function(){return v(this,function(e){switch(e.label){case 0:return o()?[4,i("isConnected",t.deviceId)]:[3,2];case 1:return[2,e.sent()];case 2:return[2,r.callNativeMethod(this.className,"isConnected","(Ljava/lang/String;)Z",t.deviceId)]}})})},l=f;function f(){this.className=r.fullClassName("ServiceFitnessNexGim")}e.NexGim=l,e.support=r.isAndroid()||o(),e.nexgimService=new l}(i=i||{}),(r=globalThis||window).nexgim=r.nexgim||i},{}]},{},[1]);